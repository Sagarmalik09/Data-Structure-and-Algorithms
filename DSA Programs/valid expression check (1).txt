#include<conio.h>
#include<string.h>
#include<stdio.h>
#include<stdlib.h>
#define MAX 20
void push(char);
char pop ();
char stack[MAX];
int top = -1;
int main ()
{
  char str[MAX], temp;
  int i, flag = 1;
  printf ("\nEnter the expression: ");
  gets(str);
  for (i = 0; i < strlen (str); i++)
  {
    if ((str[i] == '(') || (str[i] == '[') || (str[i]=='{'))
    {
        push(str[i]);
    }
    if ((str[i] == ')') || (str[i] == ']') || (str[i]=='}'))
    {
        if(top==-1)
        flag=0;
        else
        {
            temp=pop();
            if((str[i]==')') && (temp=='{' || temp=='['))
            flag=0;
            if((str[i]=='}') && (temp=='(' || temp=='['))
            flag=0;
            if((str[i]==']') && (temp=='{' || temp=='('))
            flag=0;
        }
    }
  }
  if(top>=0)
  printf("\nNot valid expression");
  if(flag==1)
  printf("\nValid Expression");
  else
  printf("\nNot a valid expression");
  return 0;
}
void push(char ch)
{
    if(top==MAX-1)
    {
        printf("\nOverflow...\n");
    }
    top++;
    stack[top]=ch;
}
char pop()
{
    if(top==-1)
    {
        printf("\nUnderflow....\n");
    }
    return(stack[top--]);
}