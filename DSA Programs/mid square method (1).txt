#include<stdio.h>
#include<stdlib.h>
#include<math.h>
#define MAX 1000
void init();
void store_data();
void display_data();


int htable[MAX];
 int main()
 {
     int choice;
     init();
     while(1)
     {
        printf("\n1.Store data....");
        printf("\n2.Display data....");
        printf("\n3.Exit....");
        printf("\nEnter your choice..");
        scanf("%d",&choice);
        switch(choice)
        {
            case 1:
            store_data();
            break;
            case 2:
            display_data();
            break;
            case 3:
            exit(1);
            default:
            printf("\nWrong choice...");
        }
     }
     return 0;
 }
 void init()
 {
     int i;
     for(i=0;i<MAX;i++)
     {
         htable[i]=-1;
     }
 }
 void store_data()
 {
    int b,count=0,c,a,e,key=0,num;
    scanf("%d",&a);
    num=a;
    a=a*a;
    e=a;
    while(a>0)
    {
        a=a/10; 
        count++;
    }
    if(count<=2)
    {
        key=e;
        printf("Key is %d",key);
        exit(0);
    }
    if(count%2==1)
    {
        c=count/2;
        b=pow(10,c); 
        key=e/b;
        if(count==3)
        {
            key=key%10;
            printf("Key is %d",key);
            exit(1);
        }
        key=key%100;
        printf("Key is %d",key);
    }
    else
    {
        c=count/2;
        c=c-1;
        b=pow(10,c);
        key=e/b;
        key=key%100;
        printf("Key is %d",key);
    }
    htable[key]=num;
    printf("\nIndex no = %d and value = %d",key,htable[key]);
 }
 void display_data()
 {
    int i;
    for(i=0;i<MAX;i++)
    {
        if(htable[i]!=-1)
        printf("\nIndex no = %d and value = %d",i,htable[i]);
    }
 }