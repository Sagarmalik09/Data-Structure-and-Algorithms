#include<conio.h>
#include <stdio.h>
#include<stdlib.h>
#define MAX 100
int check_validity(int size,int pos)
{
    int flag;
    if(pos<=0 || pos>size)
    {
    printf("\nError....Enter a valid position\n");
    return flag=0;
    }
    else return flag=1;
}
void insert_at_pos(int a[],int size,int pos)
{
    int ele,i,p;
    p=pos-1;
     printf("\nEnter the new element..");
    scanf("%d",&ele);
    for(i=0;i<size-p;i++)
    {
        a[size-i]=a[size-i-1];
    }
    a[p]=ele;
}
void delete_at_pos(int a[],int size,int pos)
{
    int i,p;
    p=pos-1;
    for(i=p;i<size-1;i++)
    {
        a[i]=a[i+1];
    }
    size=size-1;
}
void sort(int a[],int size)
{
    int i,j,temp=0;
    for (i = 0 ; i < size/2 ; i++)
    {
        for(j=i+1;j<size/2;j++)
        {
            if (a[i] > a[j]) 
            {
                temp = a[i];
                a[i]   = a[j];
                a[j] = temp;
            }
        }
    }
    for (i = size/2 ; i < size; i++)
    {
        for(j=size/2 ; j<size ; j++)
        {
            if (a[i] > a[j]) 
            {
                temp = a[i];
                a[i]   = a[j];
                a[j] = temp;
            }
        }
    }
    
    
}
void display(int a[],int size)
{
    int i;
    printf("\nArray is...\n");
    for(i=0;i<size;i++)
    printf("\t%d",a[i]);
}
int main()
{
   int i,pos,a[MAX],size,choice,flag;
   printf("\nEnter the size of array..");
    scanf("%d",&size);
    printf("\nEnter %d elements...",size);
    for(i=0;i<size;i++)
    scanf("%d",&a[i]);
    while(1)
    {
        printf("\n1.Insertion at a position..");
        printf("\n2.Deletion at a position..");
        printf("\n3.Sorting..first half in ascending and second in descending order..");
        printf("\n4.Display the elements..");
        printf("\n5.Exit..");
        printf("\nEnter the choice...");
        scanf("%d",&choice);
        switch(choice)
        {
            case 1:
                printf("\nEnter the position of new element...");
                scanf("%d",&pos);
                flag=check_validity(size,pos);
                if(flag==1)
                insert_at_pos(a,size,pos);
                break;
            case 2:
                printf("\nEnter the position of new element...");
                scanf("%d",&pos);
                flag=check_validity(size,pos);
                if(flag==1)
                delete_at_pos(a,size,pos);
                break;
            case 3:
                sort(a,size);
                 break;
            case 4:
                display(a,size);
                break;
            case 5:
                exit(1);
        }
    }
    return 0;
}